---
import type { SwellTheme } from '@swell/apps-sdk';

interface Props {
  theme: SwellTheme;
  layout?: string;
  props?: Record<string, unknown>;
}

const { theme, layout, props } =
  Astro.props;

const contentForHeader = await Astro.slots.render('content_for_header');
const contentForLayout = await Astro.slots.render('content_for_layout');

const content = await theme.renderLayout(
  layout || '',
  props,
  contentForLayout,
  `${theme.getContentForHeader()}\n${contentForHeader || ''}`,
);
---

<Fragment set:html={content} />
