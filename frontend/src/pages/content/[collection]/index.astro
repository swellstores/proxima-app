---
import {
  Swell,
  SwellStorefrontCollection,
  getContentModel,
} from '@swell/apps-sdk';
import ThemePage from '../../../components/ThemePage.astro';

const { collection } = Astro.params;
---

<ThemePage
  id="content/index"
  required="model.id"
  title="{{ model.name }}"
  description="{{ model.description }}"
  getData={async (swell: Swell) => {
    const model = await getContentModel(swell, collection);
    const entries = new SwellStorefrontCollection(
      swell,
      `content/${collection}`
    );

    return {
      model,
      entries,
    };
  }}
/>
