---
import { SwellData } from "@/swell/api";
import { ThemeSectionGroup } from "@/swell/liquid-next";
import { SwellTheme } from "@/swell/theme";

interface Props {
  theme: SwellTheme;
  content: ThemeSectionGroup;
  data: SwellData;
}

const { theme, content, data } = Astro.props;

const sections = await theme.renderSections(content, data);
---

{
  sections.map(({ section, output, tag: Tag }: any) => (
    <div
      data-swell-section={section?.type || "unknown"}
      set:html={output}
    />
  ))
}