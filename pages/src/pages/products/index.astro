---
import { Swell } from '@swell/storefrontjs';
import ProductListResource from '@/resources/product-list';
import ThemePage from '../../components/ThemePage.astro';

const sort = Astro.url.searchParams.get('sort_by');
const filter = Astro.url.searchParams.get('filter');
---

<ThemePage
  id="products/index"
  titleKey="pages.products.title"
  descriptionKey="pages.products.description"
  getData={(swell: Swell) => ({
    products: ProductListResource(swell, {
      sort,
      filter,
    }),
  })}
  }
/>
