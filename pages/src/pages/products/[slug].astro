---
import { SwellStorefrontRecord } from '@/swell/api';
import ThemePage from '@/components/ThemePage.astro';

const { slug } = Astro.params;
---

<ThemePage
  id="products/product"
  required="product.id"
  title="{{ product.meta_title | default: product.name }}"
  description="{{ product.meta_description | default: product.description }}"
  getData={async (swell: Swell, theme: SwellTheme) => {
    const product = new SwellStorefrontRecord(
      swell,
      'products',
      slug as string,
      theme.page?.query
    );

    return {
      product,
    };
  }}
/>
