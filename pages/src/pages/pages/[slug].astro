---
import { SwellStorefrontRecord } from '@/swell/api';
import ThemePage from '@/components/ThemePage.astro';

const { slug } = Astro.params;
---

<ThemePage
  id="pages/page"
  required="page.id"
  title="{{ page.meta_title | default: page.name }}"
  description="{{ page.meta_description | default: page.description }}"
  getData={async (swell: Swell, theme: SwellTheme) => {
    const page = new SwellStorefrontRecord(
      swell,
      'content/pages',
      slug as string,
      theme.page?.query
    );

    return {
      page,
    };
  }}
/>
