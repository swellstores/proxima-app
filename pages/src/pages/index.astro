---
import Layout from '../layouts/Layout.astro';
import { Swell } from "../swell/api";
import { SwellTheme } from "../swell/theme";

const swell = new Swell(Astro);
const theme = new SwellTheme(swell);

await theme.init(Astro, 'index');

const items = [{ name: 'one' }, { name: 'two' }, { name: 'three' }];
const object = { name: 'one' };

const [ title, description, content ] = await Promise.all([
	theme.lang('pages.home.title', 'Home'),
	theme.lang('pages.home.description'),
	theme.renderPage({ items, object })
]);
---

<Layout theme={theme} title={title} description={description}>
	<div slot="content_for_layout" set:html={content} />
</Layout>
