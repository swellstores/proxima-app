---
import Layout from '../../layouts/Layout.astro';
import { Swell } from "../../swell/api";
import { getCategories } from "../../swell/categories";
import { SwellTheme } from "../../swell/theme";

const swell = new Swell(Astro);
const theme = new SwellTheme(swell);

await theme.init(Astro, 'categories/index');

const categories = await getCategories(swell);

const [ title, description, content ] = await Promise.all([
	theme.lang('pages.categories.title', 'Categories'),
	theme.lang('pages.categories.description'),
	theme.renderPage({ categories })
]);
---

<Layout theme={theme} page_title={title} page_description={description}>
	<div slot="content_for_layout" set:html={content} />
</Layout>
