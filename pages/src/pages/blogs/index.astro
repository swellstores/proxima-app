---
import Layout from '../../layouts/Layout.astro';
import { Swell } from "../../swell/api";
import { getBlogs } from "../../swell/content";
import { SwellTheme } from "../../swell/theme";

const swell = new Swell({ Astro });
const theme = new SwellTheme(swell);

await theme.init(Astro, 'blogs/index');

const blogs = await getBlogs(swell);

const [ title, description, content ] = await Promise.all([
	theme.lang('pages.blogs.title', 'Blogs'),
	theme.lang('pages.blogs.description'),
	theme.renderPage({ blogs })
]);
---

<Layout theme={theme} page_title={title} page_description={description}>
	<div slot="content_for_layout" set:html={content} />
</Layout>
